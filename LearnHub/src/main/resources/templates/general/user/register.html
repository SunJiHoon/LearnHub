<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학생 회원가입</title>
    <link rel="stylesheet" href="/assets/stylesheets/common.css">
    <link rel="stylesheet" href="/assets/stylesheets/form.css">
</head>
<body>
<div class="container">

    <h2>학생 회원가입</h2>
<!--    @RequestParam(name = "login_id") String login_id,-->
<!--    @RequestParam(name = "login_pwd") String login_pwd,-->
<!--    @RequestParam(name = "teacher_name") String teacher_name,-->
<!--    @RequestParam(name = "email") String email,-->

    <form id="registerForm" action="/general/user/register" method="post">
        <div class="form-group">
            <label for="login_id">아이디:</label>
            <input type="text" id="login_id" name="login_id" required>
        </div>
        <div class="form-group">
            <label for="login_pwd">비밀번호:</label>
            <input type="password" id="login_pwd" name="login_pwd" required>
        </div>
        <div class="form-group">
            <label for="login_pwd_confirm">비밀번호 확인:</label>
            <input type="password" id="login_pwd_confirm" name="login_pwd_confirm" required>
        </div>
        <div class="form-group">
            <label for="student_name">학생 이름:</label>
            <input type="text" id="student_name" name="student_name" required>
        </div>
        <div class="form-group">
            <label for="email">이메일:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <button type="submit">가입하기</button>
        <div th:if="${error_message}" class="alert" role="alert" style="color: red;">
            <p th:text="${error_message}"></p>
        </div>
    </form>
</div>
<script src="/assets/javascripts/student/register.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const login_pwd = document.getElementById("login_pwd");
        const login_pwd_confirm = document.getElementById("login_pwd_confirm");

        function updateValidity() {
            const match = login_pwd.value === login_pwd_confirm.value;
            // 사용자 검증 로직을 설정하는 메소드, 빈 문자열이어야 통과
            login_pwd_confirm.setCustomValidity(match
                ? ''
                : '비밀번호가 일치하지 않습니다.'
            );
        }
        login_pwd.addEventListener('change', updateValidity);
        login_pwd_confirm.addEventListener('change', updateValidity);
    });
</script>
</body>
</html>